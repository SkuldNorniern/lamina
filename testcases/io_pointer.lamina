# Test pointer-based I/O operations
fn @main() -> i32 {
  entry:
    # Allocate buffer
    %buffer = alloc.stack i32

    # Store value in buffer
    store.i32 %buffer, 42

    # Write buffer address to stdout
    %write_result = writeptr %buffer

    # Load value from buffer
    %buffer_val = load.i32 %buffer

    # Print the buffer value to verify it worked
    print %buffer_val

    ret.i32 0
}
